
<div class="container-lg" >
    <div class="row">
      <div class="col col-xl-12">
        <h2 class="mt-5">All Incidents </h2>
        <div class="text-end">
        <span (click)="handleCreate()" class="btn btn-primary"><i class="fa fa-plus"></i> Create Incident</span></div>
        <br>
        <div class="table-responsive">
          <table class="table table-bordered table-striped table-hover" *ngIf="incidents">
            <thead>
              <tr>
                <th class="text-center">Incident Number</th>
                <th class="text-center">State</th>
                <th class="text-center">Priority</th>
                <th class="text-center">Type</th>
                <th class="text-center">Customer Name</th>
                <th class="text-center">Description</th>
                <th class="text-center">Created</th>
                <th class="text-center">Created by</th>
                <th class="text-center"></th>
                <th class="text-center"></th>
              </tr>
              </thead>
              <tbody>
             <!--start of for loop-->
              <tr *ngFor="let item of incidents">
                  <td class="text-center">{{item.number}}</td>
                  <td class="text-center">{{item.state}}</td>
                  <td class="text-center">{{item.priority}}</td>
                  <td class="text-center">{{item.type}}</td>
                  <td class="text-center">{{item.custname}}</td>
                  <td class="text-center">{{item.description}}</td>
                  <td class="text-center">{{item.created}}</td>
                  <td class="text-center">{{item.createdby}}</td>
                    
                  <td class="text-center" *ngIf="item._id">
                    <span class="btn btn-primary btn-sm" (click)="handleEdit(item)">
                      <i class="fa-solid fa-pencil"></i> Edit</span>
                  </td>

                  <td class="text-center" *ngIf="item._id">
                    <span  class="btn btn-danger btn-sm" (click)="handleDelete(item._id)">
                      <i class="fa-solid fa-trash"></i> Delete</span>
                  </td>
                </tr>
              
              <!--end of for loop-->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>